<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ساعة الصلاة</title>

<link href="https://fonts.cdnfonts.com/css/digital-7" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@600;700&display=swap" rel="stylesheet">

<style>
body{
  background:#111;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  margin:0;
  font-family:Arial, sans-serif;
}

.board{
  width:min(85vw,85vh);
  aspect-ratio:1/1;
  display:flex;
  flex-direction:column;
  align-items:center;
}

.clock-box{
  position:relative;
  width:70%;
  max-width:280px;
  aspect-ratio:1/1;
}

.clock-img{
  width:100%;
  height:100%;
  object-fit:contain;
  display:block;
  border-radius:10px;
}

.center{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
}

.hand{
  position:absolute;
  left:0;
  top:0;
  transform-origin:0% 50%;
}

#h{ width:60px; height:4px; background:black; }
#m{ width:85px; height:3px; background:black; }
#s{ width:100px; height:2px; background:red; }

.title{
  margin-top:14px;
  font-family:'Cairo', sans-serif;
  font-size:18px;
  font-weight:700;
  color:#ffffff;
  text-align:center;
}

.countbox{
  margin-top:6px;
  background:#000;
  padding:6px 14px;
  border-radius:8px;
  display:inline-block;
}

.countbox .time{
  font-family:'Digital-7 Mono', monospace;
  font-size:30px;
  font-weight:bold;
  color:#ffffff;
  letter-spacing:3px;
  text-shadow:none;
}
</style>
</head>

<body>

<div class="board">

  <div class="clock-box">
    <img src="background.jpg.png" class="clock-img">
    <div class="center">
      <div id="h" class="hand"></div>
      <div id="m" class="hand"></div>
      <div id="s" class="hand"></div>
    </div>
  </div>

  <div class="title">آذان المغرب بعد:</div>

  <div class="countbox">
    <div class="time" id="count">00:00:00</div>
  </div>

</div>

<script>
/* مزامنة دقيقة مع ساعة الهاتف */
function updateClock(){

  const now = new Date();

  const hours = now.getHours();
  const minutes = now.getMinutes();
  const seconds = now.getSeconds();
  const ms = now.getMilliseconds();

  const hourDeg = (hours % 12) * 30 + minutes * 0.5;
  const minuteDeg = minutes * 6 + seconds * 0.1;
  const secondDeg = seconds * 6 + ms * 0.006;

  document.getElementById("h").style.transform = `rotate(${hourDeg}deg)`;
  document.getElementById("m").style.transform = `rotate(${minuteDeg}deg)`;
  document.getElementById("s").style.transform = `rotate(${secondDeg}deg)`;

  /* العد التنازلي */
  let target = new Date();
  target.setHours(18,45,0,0); // عدل وقت المغرب حسب مدينتك

  if(now > target){
    target.setDate(target.getDate() + 1);
  }

  const diff = target - now;

  const hh = String(Math.floor(diff / 3600000)).padStart(2,'0');
  const mm = String(Math.floor(diff % 3600000 / 60000)).padStart(2,'0');
  const ss = String(Math.floor(diff % 60000 / 1000)).padStart(2,'0');

  document.getElementById("count").innerHTML = `${hh}:${mm}:${ss}`;
}

/* تحديث متزامن مع كل ثانية حقيقية */
function syncToSecond(){
  updateClock();
  const delay = 1000 - new Date().getMilliseconds();
  setTimeout(syncToSecond, delay);
}

syncToSecond();
</script>

</body>
</html>