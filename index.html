<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø³Ø§Ø¹Ø© Ø§Ù„ØµÙ„Ø§Ø© - Ø§Ù„Ù‚Ø±Ø§Ø±Ù… Ù‚ÙˆÙ‚Ø©</title>
  <link href="https://fonts.cdnfonts.com/css/digital-7" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      background: #0a0f1e;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      font-family: 'Cairo', sans-serif;
    }

    .board {
      width: min(95vw, 95vh);
      max-width: 550px;
      background: rgba(255, 255, 255, 0.02);
      border-radius: 30px;
      padding: 20px 15px 30px;
      box-shadow: 0 20px 30px rgba(0,0,0,0.6);
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø³Ø§Ø¹Ø© */
    .clock-box {
      position: relative;
      width: 80%;
      max-width: 400px;
      aspect-ratio: 1/1;
      margin-top: 5px;
    }

    /* ÙˆØ¬Ù‡ Ø§Ù„Ø³Ø§Ø¹Ø© (Ø¨Ø¯ÙˆÙ† ØµÙˆØ±Ø©) */
    .clock-face {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: #1e2a3a;
      box-shadow: 0 0 0 4px #2c3e50, 0 10px 20px rgba(0,0,0,0.8);
      position: relative;
    }

    /* Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø³Ø§Ø¹Ø© */
    .number {
      position: absolute;
      font-size: 28px;
      font-weight: bold;
      color: #ecf0f1;
      text-shadow: 0 0 8px #3498db;
      transform: translate(-50%, -50%);
    }
    #num12 { top: 8%; left: 50%; }
    #num3  { top: 50%; left: 92%; }
    #num6  { top: 92%; left: 50%; }
    #num9  { top: 50%; left: 8%; }

    /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø¹Ù‚Ø§Ø±Ø¨ (ØªÙ…Ù„Ø£ Ø§Ù„ÙˆØ¬Ù‡ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„) */
    .hands-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    /* Ù†Ù‚Ø·Ø© Ø§Ù„Ù…Ø±ÙƒØ² */
    .center-dot {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 4%;
      height: 4%;
      background: #ffd966;
      border-radius: 50%;
      z-index: 10;
      box-shadow: 0 0 10px #ffaa00;
    }

    /* Ø§Ù„Ø¹Ù‚Ø§Ø±Ø¨ */
    .hand {
      position: absolute;
      left: 50%;
      bottom: 50%;
      transform-origin: 50% 100%;
      border-radius: 30px;
      box-shadow: 0 0 8px rgba(0,0,0,0.8);
      transform: rotate(0deg); /* ÙŠØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø¹Ø¨Ø± JS */
    }

    /* Ø¹Ù‚Ø±Ø¨ Ø§Ù„Ø³Ø§Ø¹Ø§Øª (Ø£Ø³ÙˆØ¯ Ù‚Ø§ØªÙ…) */
    #hour-hand {
      width: 8px;
      height: 25%;
      background: #111;
      z-index: 7;
    }

    /* Ø¹Ù‚Ø±Ø¨ Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚ (Ø£Ø³ÙˆØ¯ Ù‚Ø§ØªÙ…) */
    #minute-hand {
      width: 6px;
      height: 35%;
      background: #111;
      z-index: 8;
    }

    /* Ø¹Ù‚Ø±Ø¨ Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ (Ø£Ø­Ù…Ø± Ù‚ÙˆÙŠ) */
    #second-hand {
      width: 3px;
      height: 40%;
      background: #ff0000;
      box-shadow: 0 0 12px #ff0000;
      z-index: 9;
    }

    /* Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */
    .title {
      margin-top: 25px;
      font-size: 22px;
      font-weight: 700;
      color: #ecf0f1;
      text-shadow: 0 2px 5px #2c3e50;
      letter-spacing: 1px;
    }

    /* Ø§Ù„Ø¹Ø¯Ø§Ø¯ */
    .countbox {
      margin-top: 8px;
      background: #00000040;
      backdrop-filter: blur(4px);
      padding: 12px 25px;
      border-radius: 60px;
      border: 1px solid #f1c40f40;
      box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    }

    .countbox .time {
      font-family: 'Digital-7 Mono', monospace;
      font-size: 48px;
      font-weight: bold;
      color: #f1c40f;
      text-shadow: 0 0 10px #f1c40f;
      letter-spacing: 5px;
      line-height: 1.2;
    }

    /* Ø±Ø³Ø§Ù„Ø© Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø¹Ø¯ */
    .finished-message {
      color: #2ecc71;
      font-size: 28px;
      font-weight: bold;
      text-shadow: 0 0 15px #2ecc71;
      display: none;
    }

    @media (max-width: 480px) {
      .title { font-size: 18px; }
      .countbox .time { font-size: 36px; }
      .number { font-size: 20px; }
      #hour-hand { width: 6px; }
      #minute-hand { width: 4px; }
      #second-hand { width: 2px; }
    }
  </style>
</head>
<body>
<div class="board">
  <div class="clock-box">
    <!-- ÙˆØ¬Ù‡ Ø§Ù„Ø³Ø§Ø¹Ø© -->
    <div class="clock-face">
      <!-- Ø§Ù„Ø£Ø±Ù‚Ø§Ù… -->
      <div id="num12" class="number">12</div>
      <div id="num3" class="number">3</div>
      <div id="num6" class="number">6</div>
      <div id="num9" class="number">9</div>
    </div>

    <!-- Ø§Ù„Ø¹Ù‚Ø§Ø±Ø¨ ÙˆØ§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© -->
    <div class="hands-container">
      <div class="center-dot"></div>
      <div id="hour-hand" class="hand"></div>
      <div id="minute-hand" class="hand"></div>
      <div id="second-hand" class="hand"></div>
    </div>
  </div>

  <div class="title">ğŸ•Œ Ø¢Ø°Ø§Ù† Ø§Ù„Ù…ØºØ±Ø¨ - Ø§Ù„Ù‚Ø±Ø§Ø±Ù… Ù‚ÙˆÙ‚Ø©</div>
  <div class="countbox">
    <div class="time" id="count">00:00:00</div>
    <div class="finished-message" id="finishedMsg">ğŸ”” Ø­Ø§Ù† ÙˆÙ‚Øª Ø§Ù„Ù…ØºØ±Ø¨</div>
  </div>
</div>

<script>
  (function() {
    // Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¹Ù‚Ø§Ø±Ø¨
    const hourHand = document.getElementById('hour-hand');
    const minuteHand = document.getElementById('minute-hand');
    const secondHand = document.getElementById('second-hand');
    const countEl = document.getElementById('count');
    const finishedMsg = document.getElementById('finishedMsg');

    // ÙˆÙ‚Øª Ø§Ù„Ù…ØºØ±Ø¨ Ù„Ù„Ù‚Ø±Ø§Ø±Ù… Ù‚ÙˆÙ‚Ø© (18:21)
    const MAGHRIB_HOUR = 18;
    const MAGHRIB_MINUTE = 21;
    const MAGHRIB_SECOND = 0;

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù‚Ø§Ø±Ø¨ (Ø­Ø±ÙƒØ© Ø³Ù„Ø³Ø©)
    function updateHands() {
      const now = new Date();
      const h = now.getHours();
      const m = now.getMinutes();
      const s = now.getSeconds();
      const ms = now.getMilliseconds();

      // Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø¨ (Ù†Ø¶ÙŠÙ 90 Ø¯Ø±Ø¬Ø© Ù„ØªØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰)
      const hourAngle = ((h % 12) * 30) + (m * 0.5) + 90;
      const minuteAngle = (m * 6) + (s * 0.1) + 90;
      const secondAngle = (s * 6) + (ms * 0.006) + 90;

      hourHand.style.transform = `rotate(${hourAngle}deg)`;
      minuteHand.style.transform = `rotate(${minuteAngle}deg)`;
      secondHand.style.transform = `rotate(${secondAngle}deg)`;

      requestAnimationFrame(updateHands);
    }

    // Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù„Ù…ØºØ±Ø¨
    function getRemaining() {
      const now = new Date();
      const target = new Date();
      target.setHours(MAGHRIB_HOUR, MAGHRIB_MINUTE, MAGHRIB_SECOND, 0);
      if (now > target) target.setDate(target.getDate() + 1);
      return target - now;
    }

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ
    function updateCountdown() {
      const diff = getRemaining();
      if (diff <= 0) {
        countEl.style.display = 'none';
        finishedMsg.style.display = 'block';
        setTimeout(() => {
          countEl.style.display = 'block';
          finishedMsg.style.display = 'none';
        }, 5000);
        return;
      }
      countEl.style.display = 'block';
      finishedMsg.style.display = 'none';

      const hours = Math.floor(diff / 3600000);
      const mins = Math.floor((diff % 3600000) / 60000);
      const secs = Math.floor((diff % 60000) / 1000);

      countEl.textContent = `${hours.toString().padStart(2,'0')}:${mins.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}`;
    }

    // ØªØ´ØºÙŠÙ„ ÙƒÙ„ Ø´ÙŠØ¡
    requestAnimationFrame(updateHands);       // Ø­Ø±ÙƒØ© Ù…Ø³ØªÙ…Ø±Ø© Ù„Ù„Ø¹Ù‚Ø§Ø±Ø¨
    updateCountdown();                         // ØªØ­Ø¯ÙŠØ« ÙÙˆØ±ÙŠ Ù„Ù„Ø¹Ø¯Ø§Ø¯
    setInterval(updateCountdown, 1000);        // ØªØ­Ø¯ÙŠØ« ÙƒÙ„ Ø«Ø§Ù†ÙŠØ©
  })();
</script>
</body>
</html>